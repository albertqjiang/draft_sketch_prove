{"tag": "numbertheory_sqmod3in01d", "category": "number_theory", "metadata": {}, "prompt": "Informal:\n(*### Problem\n\nShow that for any integer, the residue of its square divided by 3 is either 0 or 1.\n\n### Solution\n\nLet $a$ stand for this arbitrary integer. Let $b = a mod 3$.\nWe know that b can only be 0, 1, or 2.\nAlso, $a^2 mod 3 = b^2 mod 3$.\nIf $b=0$, $a^2 mod 3 = 0^2 mod 3 = 0$;\nIf $b=1$, $a^2 mod 3 = 1^2 mod 3 = 1$;\nIf $b=2$, $a^2 mod 3 = 2^2 mod 3 = 1$.*)\n\nFormal:\ntheorem\n  fixes a :: int\n  shows \"a^2 mod 3 = 0 \\<or> a^2 mod 3 = 1\"\nproof -\n  (* Let $b = a mod 3$. *)\n  obtain b::int where c0: \"b = a mod 3\" sledgehammer\n  (* We know that b can only be 0, 1, or 2. *)\n  have c1: \"b \\<ge> 0 \\<and> b \\<le> 2\"\n    sledgehammer\n  (* Also, $a^2 mod 3 = b^2 mod 3$. *)\n  hence c2: \"a^2 mod 3 = b^2 mod 3\" using c0\n    sledgehammer\n  then show ?thesis\n  (* If $b=0$, $a^2 mod 3 = 0^2 mod 3 = 0$;\n  If $b=1$, $a^2 mod 3 = 1^2 mod 3 = 1$;\n  If $b=2$, $a^2 mod 3 = 2^2 mod 3 = 1$.*)\n  proof (cases \"b=0\")\n    case True\n    have \"a^2 mod 3 = 0\" using True c0 sledgehammer\n    then show ?thesis sledgehammer\n  next\n    case c3: False\n    then show ?thesis\n    proof (cases \"b=1\")\n      case True\n      have \"a^2 mod 3 = 1\" using True c0\n        sledgehammer\n      then show ?thesis sledgehammer\n    next\n      case False\n      have \"b = 2\" using c1 c3 False sledgehammer\n      hence \"a^2 mod 3 = 2^2 mod 3\" using c2 sledgehammer\n      also have \"... = 1\" sledgehammer\n      finally have \"a^2 mod 3 = 1\" sledgehammer\n      then show ?thesis sledgehammer\n    qed\n  qed\nqed"}